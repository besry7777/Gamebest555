<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro EXIF Card</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&family=Roboto+Mono:wght@400;700&display=swap');

    :root {
        --bg-color: #0f172a;
        --card-bg: rgba(30, 41, 59, 0.95);
        --accent: #38bdf8;
        --text-main: #f1f5f9;
        --text-dim: #94a3b8;
    }

    * { box-sizing: border-box; }

    body {
        font-family: 'Sarabun', sans-serif;
        background: var(--bg-color);
        color: var(--text-main);
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° Upload */
    .upload-btn-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
        margin-bottom: 20px;
    }

    .btn {
        border: 1px solid var(--accent);
        color: var(--accent);
        background-color: transparent;
        padding: 8px 20px;
        border-radius: 50px;
        font-size: 14px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
    }

    .btn:hover { background: var(--accent); color: #000; }

    .upload-btn-wrapper input[type=file] {
        font-size: 100px;
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
        cursor: pointer;
    }

    /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
    .capture-card {
        background: var(--card-bg);
        border: 1px solid rgba(255,255,255,0.1);
        width: 100%;
        max-width: 400px; /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        border-radius: 16px;
        padding: 16px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ */
    }
    
    .capture-card.active { display: block; }

    /* ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
    .img-container {
        width: 100%;
        height: 200px; /* ‡∏ü‡∏¥‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏ô‡∏ó‡∏µ‡πà */
        background: #000;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 15px;
        border: 1px solid #333;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .img-container img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }

    /* Grid ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Highlight) */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
        margin-bottom: 15px;
    }

    .stat-box {
        background: rgba(255,255,255,0.05);
        padding: 8px;
        border-radius: 8px;
        text-align: center;
    }

    .stat-label {
        font-size: 10px;
        color: var(--text-dim);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .stat-value {
        font-family: 'Roboto Mono', monospace;
        font-size: 13px;
        font-weight: 700;
        color: var(--accent);
        margin-top: 2px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏ô‡∏™‡πå */
    .gear-info {
        text-align: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px dashed rgba(255,255,255,0.2);
    }
    .gear-model { font-weight: 600; font-size: 16px; color: #fff; }
    .gear-lens { font-size: 12px; color: var(--text-dim); margin-top: 4px;}

    /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ö (‡∏¢‡πà‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏Ñ‡∏õ‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î) */
    .full-data {
        font-size: 11px;
        color: #ccc;
        display: grid;
        grid-template-columns: 1fr 1fr; /* ‡πÅ‡∏ö‡πà‡∏á 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
        gap: 5px 15px;
    }

    .data-row {
        display: flex;
        justify-content: space-between;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        padding: 2px 0;
    }
    .data-key { opacity: 0.6; }
    .data-val { text-align: right; font-family: 'Roboto Mono'; color: #fff;}

    .footer-note {
        text-align: center;
        font-size: 10px;
        color: #555;
        margin-top: 15px;
    }

</style>
</head>
<body>

    <div class="upload-btn-wrapper">
        <button class="btn">üì∏ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤</button>
        <input type="file" accept="image/*" id="upload">
    </div>

    <div class="capture-card" id="card">
        
        <div class="img-container">
            <img id="preview" src="" alt="Preview">
        </div>

        <div class="gear-info">
            <div class="gear-model" id="camModel">-</div>
            <div class="gear-lens" id="camLens">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏•‡∏ô‡∏™‡πå</div>
        </div>

        <div class="stats-grid">
            <div class="stat-box">
                <div class="stat-label">Aperture</div>
                <div class="stat-value" id="valF">-</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Shutter</div>
                <div class="stat-value" id="valS">-</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">ISO</div>
                <div class="stat-value" id="valISO">-</div>
            </div>
             <div class="stat-box">
                <div class="stat-label">Focal</div>
                <div class="stat-value" id="valFL">-</div>
            </div>
             <div class="stat-box">
                <div class="stat-label">Date</div>
                <div class="stat-value" id="valDate" style="font-size:10px;">-</div>
            </div>
             <div class="stat-box">
                <div class="stat-label">Size</div>
                <div class="stat-value" id="valSize">-</div>
            </div>
        </div>

        <div class="full-data" id="exifList">
            </div>

        <div class="footer-note">EXIF DATA VIEWER</div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/exif-js"></script>

<script>
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏®‡∏©‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
    function formatFraction(n) {
        if (!n) return '-';
        if (n >= 1) return n; // ‡πÄ‡∏ä‡πà‡∏ô 1/125 -> 0.008... ‡πÅ‡∏ï‡πà‡∏ö‡∏≤‡∏á‡∏ó‡∏µ library ‡∏™‡πà‡∏á‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô number
        // ‡∏ñ‡πâ‡∏≤ library ‡∏™‡πà‡∏á‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô number ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 1/x ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏≤‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÉ‡∏ô JS ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤
        // ‡πÅ‡∏ï‡πà exif-js ‡∏°‡∏±‡∏Å‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ö ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô String ‡∏Å‡πá‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
        return n;
    }

    document.getElementById('upload').addEventListener('change', function (e) {
        const file = e.target.files[0];
        if (!file) return;

        const img = document.getElementById('preview');
        const card = document.getElementById('card');
        
        img.src = URL.createObjectURL(file);
        
        // ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ
        card.classList.add('active'); 

        img.onload = function () {
            EXIF.getData(img, function () {
                const allTags = EXIF.getAllTags(this);
                const list = document.getElementById('exifList');
                list.innerHTML = '';

                // 1. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ Highlight ‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
                const make = EXIF.getTag(this, "Make") || "";
                const model = EXIF.getTag(this, "Model") || "Unknown Camera";
                document.getElementById('camModel').textContent = `${make} ${model}`.trim();
                document.getElementById('camLens').textContent = EXIF.getTag(this, "Undefined") || ""; // LensModel ‡∏°‡∏±‡∏Å‡∏´‡∏≤‡πÄ‡∏à‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏ô js-exif ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π key ‡∏≠‡∏∑‡πà‡∏ô

                document.getElementById('valF').textContent = "f/" + (EXIF.getTag(this, "FNumber") || "-");
                
                let shutter = EXIF.getTag(this, "ExposureTime");
                if(shutter && shutter < 1) {
                    // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏®‡∏©‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢ (‡∏Ñ‡∏£‡πà‡∏≤‡∏ß‡πÜ)
                     shutter = "1/" + Math.round(1/shutter);
                }
                document.getElementById('valS').textContent = shutter ? (typeof shutter === 'number' ? shutter : shutter.toString()) : "-";
                
                document.getElementById('valISO').textContent = EXIF.getTag(this, "ISOSpeedRatings") || "-";
                document.getElementById('valFL').textContent = (EXIF.getTag(this, "FocalLength") || "-") + "mm";
                
                const dateTaken = EXIF.getTag(this, "DateTimeOriginal");
                document.getElementById('valDate').textContent = dateTaken ? dateTaken.split(' ')[0].replace(/:/g, '/') : "-";

                const w = EXIF.getTag(this, "PixelXDimension");
                const h = EXIF.getTag(this, "PixelYDimension");
                document.getElementById('valSize').textContent = (w && h) ? `${w}x${h}` : "-";

                // 2. ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á (‡∏ï‡∏±‡∏î‡∏Ñ‡πà‡∏≤ Highlight ‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ã‡πâ‡∏≥)
                const skipKeys = ['Make', 'Model', 'FNumber', 'ExposureTime', 'ISOSpeedRatings', 'FocalLength', 'DateTimeOriginal', 'PixelXDimension', 'PixelYDimension', 'MakerNote', 'UserComment', 'ExifVersion', 'FlashpixVersion', 'ComponentsConfiguration'];

                if (Object.keys(allTags).length === 0) {
                    list.innerHTML = '<div style="grid-column: span 2; text-align: center;">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• EXIF</div>';
                } else {
                    for (let key in allTags) {
                        if (!skipKeys.includes(key) && typeof allTags[key] !== 'object') { // ‡∏Å‡∏£‡∏≠‡∏á object ‡πÉ‡∏´‡∏ç‡πà‡πÜ ‡∏≠‡∏≠‡∏Å
                            let val = allTags[key];
                            // ‡∏ï‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
                            if(typeof val === 'string' && val.length > 15) val = val.substring(0, 15) + '...';
                            
                            const row = `
                                <div class="data-row">
                                    <span class="data-key">${key}</span>
                                    <span class="data-val">${val}</span>
                                </div>
                            `;
                            list.innerHTML += row;
                        }
                    }
                }
            });
        };
    });
</script>

</body>
</html>
