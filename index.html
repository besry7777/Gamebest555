<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>PARTY ‡πÑ‡∏ó‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏ß‡∏¢‡∏ó‡∏£‡∏≤‡∏¢ (DEMO)</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;800&display=swap" rel="stylesheet">
<script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

<style>
/* ===== CSS ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞) ===== */
:root {
    --bg-color:#121212;--card-bg:#1e1e1e;--primary:#00e676;
    --text-main:#fff;--text-muted:#b0b0b0;
    --danger:#ef5350;--warning:#ffca28;--radius:16px;
}
*{box-sizing:border-box;font-family:'Sarabun',sans-serif}
body{margin:0;background:var(--bg-color);color:#fff;height:100dvh;display:flex;flex-direction:column;overflow:hidden}
#game-container{flex:1;max-width:500px;margin:auto;padding:16px;display:flex;flex-direction:column}
header{text-align:center;margin-bottom:10px}
h1{color:var(--primary);font-weight:800}
.display-area{flex:1;background:#1e1e1e;border-radius:16px;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.big-instruction{font-size:2rem;font-weight:800;text-align:center}
.category-badge{margin-bottom:10px;padding:6px 16px;border-radius:50px;font-weight:700;opacity:0}
.controls-area{display:flex;flex-direction:column;gap:10px}
.btn{padding:18px;border:none;border-radius:16px;font-size:1.2rem;font-weight:800;background:#00e676}
.btn-secondary{background:#333;color:#fff}
#special-game-area{margin-top:15px;width:100%;display:none}
.game-btn{width:100%;padding:14px;border-radius:50px;border:none;font-size:1.1rem;font-weight:800;background:#ef5350;color:#fff}
.skip-btn{margin-top:10px;background:none;border:1px solid #666;color:#aaa;padding:8px 16px;border-radius:30px}
.timer-text{font-size:4rem;font-weight:800}
</style>
</head>

<body>

<div id="game-container">
<header>
<h1>PARTY GAME (DEMO)</h1>
</header>

<div class="display-area">
<div id="category-badge" class="category-badge">DEMO</div>
<div id="wheel-result" class="big-instruction">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏î‡πÇ‡∏°<br>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</div>
<div id="special-game-area"></div>
</div>

<div class="controls-area">
<button class="btn" id="spin-btn">üî• ‡πÄ‡∏•‡πà‡∏ô‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°</button>
<button class="btn btn-secondary">DEMO MODE</button>
</div>
</div>

<script>
// =================== DEMO MODE ===================

// ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
const normalQuestions = [];

// ‚úÖ Mini Games ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
const specialGamesList = [
    { t:"‚è±Ô∏è ‡∏´‡πâ‡∏≤‡∏°‡∏û‡∏π‡∏î 40 ‡∏ß‡∏¥", c:"MINI GAME", color:"#ffca28", type:"timer", time:40 },
    { t:"‚è±Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 5.00 ‡∏ß‡∏¥", c:"SKILL", color:"#42a5f5", type:"stopwatch", target:5, range:0.1 },
    { t:"üî´ Russian Roulette", c:"LUCK", color:"#ef5350", type:"roulette" },
    { t:"üí£ ‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡πÑ‡∏ü", c:"BOMB", color:"#ef5350", type:"bomb" },
    { t:"üß† ‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥", c:"MEMORY", color:"#ab47bc", type:"memory" }
];

// =================== Element ===================
const spinBtn = document.getElementById("spin-btn");
const resultDisplay = document.getElementById("wheel-result");
const categoryBadge = document.getElementById("category-badge");
const specialGameArea = document.getElementById("special-game-area");

// =================== DEMO SPIN ===================
spinBtn.onclick = () => {
    const game = specialGamesList[Math.floor(Math.random()*specialGamesList.length)];
    showGame(game);
};

function showGame(game){
    resultDisplay.innerText = game.t;
    categoryBadge.innerText = game.c;
    categoryBadge.style.background = game.color;
    categoryBadge.style.opacity = 1;
    setupGame(game);
}

// =================== Mini Games ===================
function setupGame(game){
    specialGameArea.style.display="block";
    if(game.type==="timer") timerGame(game.time);
    if(game.type==="stopwatch") stopwatchGame(game.target,game.range);
    if(game.type==="roulette") rouletteGame();
    if(game.type==="bomb") bombGame();
    if(game.type==="memory") memoryGame();
}

function timerGame(sec){
    let t=sec;
    specialGameArea.innerHTML=`<div class="timer-text">${t}</div>`;
    const id=setInterval(()=>{
        t--;
        specialGameArea.innerHTML=`<div class="timer-text">${t}</div>`;
        if(t<=0){clearInterval(id);specialGameArea.innerHTML=`<div class="timer-text">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!</div>`}
    },1000);
}

function stopwatchGame(target,range){
    let start=Date.now();
    specialGameArea.innerHTML=`<div class="timer-text" id="sw">0.00</div>
    <button class="game-btn" onclick="stopSW(${target},${range})">‡∏´‡∏¢‡∏∏‡∏î</button>`;
    window.swInt=setInterval(()=>{
        document.getElementById("sw").innerText=((Date.now()-start)/1000).toFixed(2);
    },30);
}
function stopSW(t,r){
    clearInterval(window.swInt);
    const v=parseFloat(document.getElementById("sw").innerText);
    specialGameArea.innerHTML = Math.abs(v-t)<=r
        ? `<div class="timer-text">üéâ ‡∏£‡∏≠‡∏î</div>`
        : `<div class="timer-text">üíÄ ‡∏î‡∏∑‡πà‡∏°</div>`;
}

function rouletteGame(){
    const lose=Math.floor(Math.random()*6);
    let cur=0;
    specialGameArea.innerHTML=`<button class="game-btn" onclick="pull()">‡πÄ‡∏´‡∏ô‡∏µ‡πà‡∏¢‡∏ß‡πÑ‡∏Å</button>`;
    window.pull=()=>{
        if(cur===lose) specialGameArea.innerHTML=`<div class="timer-text">üí• ‡∏î‡∏∑‡πà‡∏°</div>`;
        else {cur++;alert("‡∏Ñ‡∏•‡∏¥‡∏Å‚Ä¶‡∏£‡∏≠‡∏î");}
    }
}

function bombGame(){
    const boom=Math.floor(Math.random()*4);
    let html="";
    for(let i=0;i<4;i++){
        html+=`<button class="game-btn" onclick="cut(${i===boom})">‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢</button>`;
    }
    specialGameArea.innerHTML=html;
    window.cut=(b)=>{specialGameArea.innerHTML=b?"üí• ‡∏î‡∏∑‡πà‡∏°":"üòÖ ‡∏£‡∏≠‡∏î"};
}

function memoryGame(){
    const num=Math.floor(1000+Math.random()*9000);
    specialGameArea.innerHTML=`<div class="timer-text">${num}</div>`;
    setTimeout(()=>{
        specialGameArea.innerHTML=`<input id="m" style="font-size:2rem;text-align:center">
        <button class="game-btn" onclick="check(${num})">‡∏ï‡∏≠‡∏ö</button>`;
    },3000);
}
function check(n){
    specialGameArea.innerHTML =
        parseInt(document.getElementById("m").value)===n
        ? "üéâ ‡∏ñ‡∏π‡∏Å"
        : `üíÄ ‡∏ú‡∏¥‡∏î (${n})`;
}
</script>
</body>
</html>